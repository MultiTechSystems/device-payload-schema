# Milesight IoT WS303
name: milesight_ws303
version: 1
endian: little

fields:
  - tlv:
      tag_fields:
        - name: channel_id
          type: u8
        - name: channel_type
          type: u8
      tag_key: [channel_id, channel_type]
      cases:
        # BATTERY
        "[1, 117]":
          - name: battery
            type: u8
        # WATER LEAK
        "[3, 0]":
          - name: leak_status
            type: u8
            # raw: (bytes[i] === 0) ? 'no leak' : 'leak'
