# Environmental Sensor Library
# Common patterns from TTN device repo and Milesight/Decentlab schemas
# All definitions include OPC UA semantic fields

definitions:
  # === TEMPERATURE ===
  
  temperature_c_div10:
    # Most common: Milesight, many TTN devices
    name: temperature
    type: s16
    div: 10
    unit: "°C"
    valid_range: [-40, 125]
    resolution: 0.1
    unece: "CEL"
    semantic:
      ipso: 3303

  temperature_c_div100:
    # Higher precision sensors
    name: temperature
    type: s16
    div: 100
    unit: "°C"
    valid_range: [-40, 85]
    resolution: 0.01
    unece: "CEL"
    semantic:
      ipso: 3303

  temperature_f_div10:
    name: temperature
    type: s16
    div: 10
    unit: "°F"
    valid_range: [-40, 257]
    resolution: 0.1
    unece: "FAH"

  # === HUMIDITY ===
  
  humidity_pct:
    # Most common: raw percentage
    name: humidity
    type: u8
    unit: "%RH"
    valid_range: [0, 100]
    resolution: 1
    unece: "P1"
    semantic:
      ipso: 3304

  humidity_pct_half:
    # Milesight pattern: u8 * 0.5
    name: humidity
    type: u8
    mult: 0.5
    unit: "%RH"
    valid_range: [0, 100]
    resolution: 0.5
    unece: "P1"
    semantic:
      ipso: 3304

  humidity_pct_div10:
    # Higher precision
    name: humidity
    type: u16
    div: 10
    unit: "%RH"
    valid_range: [0, 100]
    resolution: 0.1
    unece: "P1"
    semantic:
      ipso: 3304

  # === PRESSURE ===
  
  pressure_hpa_div10:
    # Atmospheric pressure in hPa
    name: pressure
    type: u16
    div: 10
    unit: "hPa"
    valid_range: [300, 1100]
    resolution: 0.1
    unece: "A97"
    semantic:
      ipso: 3323

  pressure_pa:
    name: pressure
    type: u32
    unit: "Pa"
    valid_range: [30000, 110000]
    resolution: 1
    unece: "PAL"
    semantic:
      ipso: 3323

  # === CO2 ===
  
  co2_ppm:
    name: co2
    type: u16
    unit: "ppm"
    valid_range: [400, 5000]
    resolution: 1
    unece: "59"
    description: "CO2 concentration"
    semantic:
      ipso: 3325

  # === TVOC ===
  
  tvoc_ppb:
    name: tvoc
    type: u16
    unit: "ppb"
    valid_range: [0, 60000]
    resolution: 1
    description: "Total Volatile Organic Compounds"

  tvoc_index:
    # Sensirion SGP40 style index
    name: tvoc
    type: u16
    unit: "index"
    valid_range: [0, 500]
    resolution: 1
    description: "TVOC air quality index"

  # === PARTICULATE MATTER ===
  
  pm1_0:
    name: pm1_0
    type: u16
    unit: "µg/m³"
    valid_range: [0, 1000]
    resolution: 1
    description: "PM1.0 particulate matter"

  pm2_5:
    name: pm2_5
    type: u16
    unit: "µg/m³"
    valid_range: [0, 1000]
    resolution: 1
    description: "PM2.5 particulate matter"
    semantic:
      ipso: 3325

  pm10:
    name: pm10
    type: u16
    unit: "µg/m³"
    valid_range: [0, 1000]
    resolution: 1
    description: "PM10 particulate matter"

  # === LIGHT ===
  
  illuminance_lux:
    name: illuminance
    type: u16
    unit: "lux"
    valid_range: [0, 65535]
    resolution: 1
    unece: "LUX"
    semantic:
      ipso: 3301

  illuminance_lux_u32:
    # High range sensors
    name: illuminance
    type: u32
    unit: "lux"
    valid_range: [0, 200000]
    resolution: 1
    unece: "LUX"
    semantic:
      ipso: 3301

  # === NOISE ===
  
  noise_db:
    name: noise
    type: u8
    unit: "dB"
    valid_range: [30, 120]
    resolution: 1
    unece: "2N"
    description: "Sound level"

  # === FORMALDEHYDE ===
  
  hcho_ppb:
    name: hcho
    type: u16
    unit: "ppb"
    valid_range: [0, 5000]
    resolution: 1
    description: "Formaldehyde concentration"

  hcho_mgm3:
    name: hcho
    type: u16
    div: 100
    unit: "mg/m³"
    valid_range: [0, 5]
    resolution: 0.01
    description: "Formaldehyde concentration"

  # === OXYGEN ===
  
  o2_pct:
    name: o2
    type: u8
    mult: 0.1
    unit: "%"
    valid_range: [0, 25]
    resolution: 0.1
    description: "Oxygen concentration"
