# GPS Tracker Profile
# Pre-built combinations for tracking devices
#
# Usage:
#   fields:
#     - $ref: "lib/profiles/tracker.yaml#/definitions/gps_basic"

definitions:

  # Basic GPS (lat, lon, alt)
  gps_basic:
    - name: latitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5514}
    - name: longitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5515}
    - name: altitude
      type: s16
      unit: "m"
      ipso: {object: 3336, resource: 5516}

  # GPS with accuracy
  gps_with_accuracy:
    - name: latitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5514}
    - name: longitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5515}
    - name: altitude
      type: s16
      unit: "m"
      ipso: {object: 3336, resource: 5516}
    - name: hdop
      type: u8
      div: 10

  # Full tracker (GPS + speed + heading + battery)
  full_tracker:
    - name: latitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5514}
    - name: longitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5515}
    - name: altitude
      type: s16
      unit: "m"
      ipso: {object: 3336, resource: 5516}
    - name: speed
      type: u16
      div: 10
      unit: "km/h"
    - name: heading
      type: u16
      div: 10
      unit: "°"
    - name: battery_percent
      type: u8
      unit: "%"

  # Compact GPS (reduced precision, smaller payload)
  gps_compact:
    - name: latitude
      type: s24
      div: 10000
      unit: "°"
      ipso: {object: 3336, resource: 5514}
    - name: longitude
      type: s24
      div: 10000
      unit: "°"
      ipso: {object: 3336, resource: 5515}

  # Asset tracker (GPS + motion + geofence)
  asset_tracker:
    - name: latitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5514}
    - name: longitude
      type: s32
      div: 10000000
      unit: "°"
      ipso: {object: 3336, resource: 5515}
    - name: in_motion
      type: bool
    - name: geofence_status
      type: u8
      lookup: ["inside", "outside", "unknown"]
    - name: battery_percent
      type: u8
      unit: "%"
